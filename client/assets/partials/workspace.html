<script src="assets/js/workspace.js"></script>

<div id="workspace">

  <a href="#"><span class="glyphicon glyphicon-fullscreen full" aria-hidden="true"></span></a>

  <div id="ws-title">
    <div id="ws-title-show">
      <h2>{{wsCtrl.wsInfo.name}}</h2>
      <div id="edit-ws-icon">
        <a><span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-click="getNote(note._id)"></span></a>
      </div>
    </div>
    <form name="ws_title" ng-submit="wsCtrl.updateTitle()">
      <input type="text" ng-model="wsCtrl.new.name" />
      <input type="submit" tabindex="-1"/>
    </form>
  </div>

  <div id="ws-notes-container">
    <!-- BEGIN Angular Repeat stuff here...  -->
    <div class="ws-note {{$index}}" ng-repeat="note in wsCtrl.wsNotes track by $index" ng-if="note.workspaces.hasOwnProperty(wsCtrl.wsInfo._id)" id="{{note._id}}">

      <div class="note_view">
        <div class="edit-icon">
          <a><span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-click="noteCtrl.getNote(note._id)"></span></a>
        </div>
        <h4>{{note.title}}</h4>
        <!-- TO_DO: come back for these links to workspaces and hashtags!! -->
        <div class="noteContent">{{note.content}}</div>
        <div class="hashes">
            <a href="" class="link" ng-repeat="hash in note.hashtags">{{hash}}</a>
        </div>
        <a ng-click="wsCtrl.removeNoteFromWS(note._id, $index)"><span class="glyphicon glyphicon-remove remove" aria-hidden="true"></span></a>
      </div>

      <div class="note_edit">
        <input name="title" type="text" class="input" ng-model="noteCtrl.edit.title" />
        <textarea class="noteContent" rows="3" ng-model="noteCtrl.edit.content"></textarea>
        <div class="current_hashes">
            <span class="glyphicon glyphicon-plus-sign plus" aria-hidden="true"></span>
            <span class="deletable" ng-repeat="hash in note.hashtags" ng-click="noteCtrl.removeHash(hash)">{{hash}}</span>
        </div>
        <div class="new_hashes">
          <span class="glyphicon glyphicon-minus-sign minus" aria-hidden="true"></span>
          <input class="new_hashes_input" ng-model="noteCtrl.edit.hashes" placeholder="#newHash"/>
        </div>
        <a ng-click="noteCtrl.updateNote($index)"><span class="glyphicon glyphicon-check update" aria-hidden="true"></span></a>
      </div>

    </div>

    <!-- END Angular Repeat stuff here...  -->
  </div>
</div>
